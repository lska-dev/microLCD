# microLCD 
microLCD - Легкая AVR библиотека для управления символьным ЖК-дисплеем 1602 с модулем PCF8574T. 
Поддерживает микроконтроллеры atmega(328X, 168X)
### Преимушества:
1. Библиотека **нетребовательная** занимает немного памяти (~1KB ПЗУ) (~40B ОЗУ).✅
2. Может управлять **несколькими** дисплеями одновременно по протоколу I2C.✅
3. **Полный контроль** — курсор, мигание, подсветка ✅
### Недостатки:
1. Несовместима с LiquidCrystal_I2C (johnrickman)❌

# microLCD - Функции библиотеки

##  Содержание
- [Конструктор](#конструктор)
- [Инициализация](#инициализация)
- [Управление дисплеем](#управление-дисплеем)
- [Управление курсором](#управление-курсором)
- [Вывод данных](#вывод-данных)
- [Пользовательские символы](#пользовательские-символы)
- [Константы](#константы)

---

##  Конструктор

### `microLCD(uint8_t addr)`
Создает объект для работы с LCD.

| Параметр | Описание |
|----------|----------|
| `addr` | I2C адрес модуля (по умолчанию 0x27) |

**Пример:**
```cpp
microLCD lcd(0x27);      // стандартный адрес
microLCD lcd2(0x26);     // второй дисплей
```

---

## Инициализация

### `begin(mode, lines, font)`
Инициализирует дисплей.

| Параметр | Описание | Значения |
|----------|----------|----------|
| `mode` | Режим шины | `LCD_4BITMODE`, `LCD_8BITMODE` |
| `lines` | Количество строк | `LCD_1LINE`, `LCD_2LINE` |
| `font` | Шрифт | `LCD_5x8DOTS`, `LCD_5x10DOTS` |

**Пример:**
```cpp
lcd.begin(LCD_4BITMODE, LCD_2LINE, LCD_5x8DOTS);
```

---

## Управление дисплеем

### `clear()`
Очищает экран и возвращает курсор в (0,0).

```cpp
lcd.clear();
```

### `home()`
Перемещает курсор в левый верхний угол (0,0).

```cpp
lcd.home();
```

### `setCursor(col, row)`
Устанавливает позицию курсора.

| Параметр | Описание | Диапазон |
|----------|----------|----------|
| `col` | Столбец | 0-15 |
| `row` | Строка | 0-1 |

```cpp
lcd.setCursor(5, 0);  // 6 символ, 1 строка
lcd.setCursor(0, 1);  // начало 2 строки
```

### `backlight(mode)`
Включает/выключает подсветку.

| Параметр | Описание |
|----------|----------|
| `mode` | `LCD_ON` или `LCD_OFF` |

```cpp
lcd.backlight(LCD_ON);   // включить
lcd.backlight(LCD_OFF);  // выключить
```

### `display(mode)`
Включает/выключает отображение (данные сохраняются).

| Параметр | Описание |
|----------|----------|
| `mode` | `LCD_ON` или `LCD_OFF` |

```cpp
lcd.display(LCD_ON);    // показать
lcd.display(LCD_OFF);   // скрыть
```

### `shift(mode, dir)`
Сдвигает курсор или экран.

| Параметр | Описание | Значения |
|----------|----------|----------|
| `mode` | Что сдвигать | `LCD_CURSOR` или `LCD_SCREEN` |
| `dir` | Направление | `LCD_LEFT` или `LCD_RIGHT` |

```cpp
lcd.shift(LCD_CURSOR, LCD_RIGHT);  // курсор вправо
lcd.shift(LCD_SCREEN, LCD_LEFT);   // экран влево
```

---

## Управление курсором

### `cursor(mode)`
Показывает/скрывает курсор (подчеркивание).

| Параметр | Описание |
|----------|----------|
| `mode` | `LCD_ON` или `LCD_OFF` |

```cpp
lcd.cursor(LCD_ON);    // показать курсор
lcd.cursor(LCD_OFF);   // скрыть
```

### `blinkCursor(mode)`
Включает/выключает мигающий курсор (блок).

| Параметр | Описание |
|----------|----------|
| `mode` | `LCD_ON` или `LCD_OFF` |

```cpp
lcd.blinkCursor(LCD_ON);    // мигающий блок
lcd.blinkCursor(LCD_OFF);   // обычный курсор
```

---

## Вывод данных

### `print(const char* str)`
Выводит строку.

```cpp
lcd.print("Hello World!");
```

### `print(String s)`
Выводит String объект.

```cpp
lcd.print(String(millis()) + " ms");
```

### `write(uint8_t index)`
Выводит символ из CGRAM/ROM.

| Параметр | Описание |
|----------|----------|
| `index` | Номер символа (0-255) |

```cpp
lcd.write(0);  // вывести символ из ячейки 0
```

---

## Пользовательские символы

### `createChar(location, charmap[])`
Создает пользовательский символ в CGRAM.

| Параметр | Описание |
|----------|----------|
| `location` | Номер ячейки (0-7) |
| `charmap` | Массив из 8 байт (каждый байт - строка 5 пикселей) |

**Пример создания символа:**
```cpp
const byte heart[] = {
    B00000,
    B01010,
    B11111,
    B11111,
    B01110,
    B00100,
    B00000,
    B00000
};

lcd.createChar(0, heart);
lcd.write(0);  // вывести сердечко
```

**Генератор символов:**  
 [LCD Character Creator](https://maxpromer.github.io/LCD-Character-Creator/)

---

## Константы

| Константа | Значение | Описание |
|-----------|----------|----------|
| `LCD_ON` | true | Включено |
| `LCD_OFF` | false | Выключено |
| `LCD_LEFT` | 1 | Влево |
| `LCD_RIGHT` | 0 | Вправо |
| `LCD_SCREEN` | 0x08 | Сдвиг экрана |
| `LCD_CURSOR` | 0x00 | Сдвиг курсора |
| `LCD_4BITMODE` | 0x00 | 4-битный режим |
| `LCD_8BITMODE` | 0x10 | 8-битный режим |
| `LCD_1LINE` | 0x00 | Одна строка |
| `LCD_2LINE` | 0x08 | Две строки |
| `LCD_5x8DOTS` | 0x00 | Шрифт 5x8 |
| `LCD_5x10DOTS` | 0x04 | Шрифт 5x10 |

---

##  Установка

1. Скачай [microLCD.zip](https://github.com/lska-dev/microLCD/archive/refs/tags/release.zip)
2. Arduino IDE: **Скетч → Подключить библиотеку → Добавить .ZIP библиотеку**

---

## Автор

**l$ka** © 2026  
GitHub: [@lska-dev](https://github.com/lska-dev)

---


